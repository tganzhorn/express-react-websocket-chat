{"ast":null,"code":"import React,{useEffect,useRef}from'react';import SocketIOClient from'socket.io-client';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var socket=useRef(null);useEffect(function(){socket.current=SocketIOClient();socket.current.on(\"connect\",function(){return console.log(\"Connected via\",socket.current.io.engine.transport.query.transport,\"!\");});socket.current.on(\"disconnect\",function(){return console.log(\"disconnected!\");});socket.current.on(\"message\",console.log);return function(){socket.current.removeAllListeners();};},[]);var handleSocket=function handleSocket(){socket.current.emit('message',{message:\"Hi there!\"});};var handleRegular=function handleRegular(){fetch(\"/api/world\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:\"Hi There!!xD\"})}).then(function(res){return res.json();}).then(console.log);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSocket,children:\"Send me a socket message!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegular,children:\"Send me a regular message!\"})]});};export default App;","map":{"version":3,"sources":["/home/tobias/Documents/test-app/client/src/App.js"],"names":["React","useEffect","useRef","SocketIOClient","App","socket","current","on","console","log","io","engine","transport","query","removeAllListeners","handleSocket","emit","message","handleRegular","fetch","method","headers","body","JSON","stringify","then","res","json"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,C,6IAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CAChB,GAAMC,CAAAA,MAAM,CAAGH,MAAM,CAAC,IAAD,CAArB,CAEAD,SAAS,CAAC,UAAM,CACdI,MAAM,CAACC,OAAP,CAAiBH,cAAc,EAA/B,CAEAE,MAAM,CAACC,OAAP,CAAeC,EAAf,CAAkB,SAAlB,CAA6B,iBAAaC,CAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BJ,MAAM,CAACC,OAAP,CAAeI,EAAf,CAAkBC,MAAlB,CAAyBC,SAAzB,CAAmCC,KAAnC,CAAyCD,SAAtE,CAAiF,GAAjF,CAAb,EAA7B,EAEAP,MAAM,CAACC,OAAP,CAAeC,EAAf,CAAkB,YAAlB,CAAgC,iBAAMC,CAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,CAAN,EAAhC,EAEAJ,MAAM,CAACC,OAAP,CAAeC,EAAf,CAAkB,SAAlB,CAA6BC,OAAO,CAACC,GAArC,EAEA,MAAO,WAAM,CACXJ,MAAM,CAACC,OAAP,CAAeQ,kBAAf,GACD,CAFD,CAGD,CAZQ,CAYN,EAZM,CAAT,CAcA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBV,MAAM,CAACC,OAAP,CAAeU,IAAf,CAAoB,SAApB,CAA+B,CAACC,OAAO,CAAE,WAAV,CAA/B,EACD,CAFD,CAIA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BC,KAAK,CAAC,YAAD,CAAe,CAClBC,MAAM,CAAE,MADU,CAElBC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFS,CAKlBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACP,OAAO,CAAE,cAAV,CAAf,CALY,CAAf,CAAL,CAMGQ,IANH,CAMQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EANX,EAM2BF,IAN3B,CAMgCjB,OAAO,CAACC,GANxC,EAOD,CARD,CAUA,mBACE,wCACE,eAAQ,OAAO,CAAEM,YAAjB,uCADF,cAEE,eAAQ,OAAO,CAAEG,aAAjB,wCAFF,GADF,CAMD,CArCD,CAuCA,cAAed,CAAAA,GAAf","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport SocketIOClient from 'socket.io-client';\n\nconst App = () => {\n  const socket = useRef(null);\n\n  useEffect(() => {\n    socket.current = SocketIOClient();\n\n    socket.current.on(\"connect\", (...args) => console.log(\"Connected via\", socket.current.io.engine.transport.query.transport, \"!\"));\n\n    socket.current.on(\"disconnect\", () => console.log(\"disconnected!\"));\n\n    socket.current.on(\"message\", console.log);\n\n    return () => {\n      socket.current.removeAllListeners();\n    }\n  }, []);\n\n  const handleSocket = () => {\n    socket.current.emit('message', {message: \"Hi there!\"})\n  }\n\n  const handleRegular = () => {\n    fetch(\"/api/world\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({message: \"Hi There!!xD\"})\n    }).then(res => res.json()).then(console.log);\n  }\n\n  return (\n    <>\n      <button onClick={handleSocket}>Send me a socket message!</button>\n      <button onClick={handleRegular}>Send me a regular message!</button>\n    </>\n  )\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}